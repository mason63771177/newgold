# H5 ç½‘é¡µå·¥ç¨‹ä»£ç è§„èŒƒæ–‡æ¡£

## ğŸ“‹ ç›®å½•
1. [å¼€å‘è§„èŒƒ](#å¼€å‘è§„èŒƒ)
2. [ä»£ç è´¨é‡æ ‡å‡†](#ä»£ç è´¨é‡æ ‡å‡†)
3. [åŠŸèƒ½çº¦æŸè§„åˆ™](#åŠŸèƒ½çº¦æŸè§„åˆ™)
4. [é¡¹ç›®ç»“æ„è§„èŒƒ](#é¡¹ç›®ç»“æ„è§„èŒƒ)

---

## ğŸ›  å¼€å‘è§„èŒƒ

### 1. é¡¹ç›®ç»“æ„è§„èŒƒ

#### 1.1 æ¨¡å—æ¥å£è®¾è®¡
```javascript
// âœ… æ¨èï¼šä½¿ç”¨ index.js ä½œä¸ºæ¨¡å—æ¥å£
// index.js
module.exports.SMSProvider = require("./SMSProvider");
module.exports.SMSNumberResolver = require("./SMSNumberResolver");

// âŒ é¿å…ï¼šç›´æ¥å¼•ç”¨å­æ–‡ä»¶
// module.exports.SMSProvider = require("./SMSProvider/SMSProvider.js");
```

#### 1.2 é…ç½®ç®¡ç†
```json
{
  "Customer": {
    "dbConfig": {
      "host": "localhost",
      "port": 5984,
      "dbName": "customers"
    },
    "credit": {
      "initialLimit": 100,
      "initialDays": 1
    }
  }
}
```

#### 1.3 ç¯å¢ƒå˜é‡è®¾ç½®
```bash
# å¯åŠ¨å‰è®¾ç½®ç¯å¢ƒå˜é‡
$ NODE_ENV=development
$ node
```

### 2. Docker éƒ¨ç½²è§„èŒƒ

#### 2.1 å¤šé˜¶æ®µæ„å»º
```dockerfile
FROM node:14.8.0-alpine AS build

COPY --chown=node:node package.json package-lock.json ./
# âœ… å®‰å…¨å®‰è£…
RUN npm ci
COPY --chown=node:node src ./src
RUN npm run build

# è¿è¡Œæ—¶é˜¶æ®µ
FROM node:14.8.0-alpine

COPY --chown=node:node --from=build package.json package-lock.json ./
COPY --chown=node:node --from=build node_modules ./node_modules
COPY --chown=node:node --from=build dist ./dist

# âœ… æ¸…ç†å¼€å‘ä¾èµ–
RUN npm prune --production

CMD [ "node", "dist/app.js" ]
```

### 3. æµ‹è¯•è§„èŒƒ

#### 3.1 æµ‹è¯•æ ‡ç­¾åŒ–
```bash
# ä½¿ç”¨ Mocha è¿è¡Œç‰¹å®šæ ‡ç­¾çš„æµ‹è¯•
mocha --grep 'sanity'
```

#### 3.2 ç‹¬ç«‹æµ‹è¯•æ•°æ®
```javascript
it('When updating site name, get successful confirmation', async () => {
  // Arrange - æµ‹è¯•æ·»åŠ æ–°è®°å½•å¹¶ä»…å¯¹è¯¥è®°å½•è¿›è¡Œæ“ä½œ
  const siteUnderTest = await SiteService.addSite({
    name: 'siteForUpdateTest'
  });

  // Act
  const updateNameResult = await SiteService.changeName(siteUnderTest, 'newName');

  // Assert
  expect(updateNameResult).to.be(true);
});
```

---

## ğŸ“ ä»£ç è´¨é‡æ ‡å‡†

### 1. å‘½åè§„èŒƒ

#### 1.1 æè¿°æ€§å‘½å
```javascript
// âŒ ä¸æ¨è
function q() {
  // ...
}

// âœ… æ¨è
function query() {
  // ...
}
```

### 2. æ ¼å¼åŒ–è§„èŒƒ

#### 2.1 ç¼©è¿›è§„èŒƒ
```javascript
// âŒ ä¸æ¨è
function foo() {
    let name;  // 4ä¸ªç©ºæ ¼
}

// âŒ ä¸æ¨è
function bar() {
 let name;     // 1ä¸ªç©ºæ ¼
}

// âœ… æ¨è
function baz() {
  let name;    // 2ä¸ªç©ºæ ¼
}
```

#### 2.2 è¡Œé•¿åº¦é™åˆ¶
```javascript
// âŒ ä¸æ¨èï¼šè¶…è¿‡100å­—ç¬¦
const foo = jsonData && jsonData.foo && jsonData.foo.bar && jsonData.foo.bar.baz && jsonData.foo.bar.baz.quux && jsonData.foo.bar.baz.quux.xyzzy;

// âœ… æ¨èï¼šä½¿ç”¨å¯é€‰é“¾
const foo = jsonData
  ?.foo
  ?.bar
  ?.baz
  ?.quux
  ?.xyzzy;
```

#### 2.3 å°¾éšé€—å·
```javascript
// âœ… æ¨è
const hero = {
  firstName: 'Dana',
  lastName: 'Scully',
};

const heroes = [
  'Batman',
  'Superman',
];
```

### 3. æ³¨é‡Šè§„èŒƒ

#### 3.1 å•è¡Œæ³¨é‡Š
```javascript
// âŒ ä¸æ¨è
const active = true;  // is current tab

// âœ… æ¨è
// is current tab
const active = true;
```

#### 3.2 é—®é¢˜æ ‡æ³¨
```javascript
class Calculator extends Abacus {
  constructor() {
    super();

    // FIXME: shouldn't use a global here
    total = 0;
  }
}
```

### 4. ä»£ç ç»“æ„è§„èŒƒ

#### 4.1 ç©ºè¡Œè§„èŒƒ
```javascript
// âœ… æ¨èï¼šå—åç•™ç©ºè¡Œ
if (foo) {
  return bar;
}

return baz;
```

#### 4.2 é¿å…é‡å¤æˆå‘˜
```javascript
// âŒ ä¸æ¨è
class Foo {
  bar() { return 1; }
  bar() { return 2; }  // é‡å¤æˆå‘˜
}

// âœ… æ¨è
class Foo {
  bar() { return 2; }
}
```

---

## ğŸ¨ åŠŸèƒ½çº¦æŸè§„åˆ™

### 1. å“åº”å¼è®¾è®¡çº¦æŸ

#### 1.1 åª’ä½“æŸ¥è¯¢è§„èŒƒ
```css
/* ç§»åŠ¨ä¼˜å…ˆè®¾è®¡ */
main {
  display: grid;
  grid-template-columns: 2fr 1fr;
}

@media (max-width: 45em) {
  main {
    display: block;
  }
}
```

#### 1.2 è§†å£å®½åº¦çº¦æŸ
```css
/* æœ€å°å®½åº¦çº¦æŸ */
@media (min-width: 400px) {
  /* å®½äº400åƒç´ çš„æ ·å¼ */
}

/* æœ€å¤§å®½åº¦çº¦æŸ */
@media (max-width: 400px) {
  /* çª„äº400åƒç´ çš„æ ·å¼ */
}
```

### 2. äº¤äº’è®¾è®¡çº¦æŸ

#### 2.1 æŒ‡é’ˆé€‚é…
```css
/* ç²—æŒ‡é’ˆè®¾å¤‡ï¼ˆè§¦æ‘¸å±ï¼‰*/
@media (any-pointer: coarse) {
  button {
    padding: 1em 2em;
  }
}

/* ç²¾ç»†æŒ‡é’ˆè®¾å¤‡ï¼ˆé¼ æ ‡ï¼‰*/
@media (any-pointer: fine) {
  button {
    padding: 0.5em 1em;
  }
}
```

#### 2.2 åŠ¨ç”»çº¦æŸ
```css
/* ä»…åœ¨å¿«é€Ÿæ›´æ–°ä¸”ç”¨æˆ·æœªç¦ç”¨åŠ¨ç”»æ—¶åº”ç”¨ */
@media (update: fast) and (prefers-reduced-motion: no-preference) {
  a {
    transition-duration: 0.4s;
    transition-property: transform;
  }
  
  a:hover {
    transform: scale(150%);
  }
}
```

### 3. æ˜¾ç¤ºæ¨¡å¼çº¦æŸ

#### 3.1 ç‹¬ç«‹åº”ç”¨æ¨¡å¼
```css
button.back {
  display: none;
}

@media (display-mode: standalone) {
  button.back {
    display: inline;
  }
}
```

#### 3.2 é¢œè‰²æ˜¾ç¤ºçº¦æŸ
```css
/* å½©è‰²æ˜¾ç¤º */
@media (color) {
  body {
    color: maroon;
    background-color: linen;
  }
}

/* å•è‰²æ˜¾ç¤º */
@media (monochrome) {
  body {
    color: black;
    background-color: white;
  }
}
```

### 4. å¸ƒå±€çº¦æŸè§„èŒƒ

#### 4.1 å±…ä¸­çº¦æŸ
```css
.wrapper {
  max-width: 400px;
  margin: 0 auto;  /* æ°´å¹³å±…ä¸­ */
}
```

#### 4.2 å†…è”å—çº¦æŸ
```css
p span {
  display: inline-block;  /* ä¿æŒå†…è”ä½†æ”¯æŒè¾¹è·å’Œå¡«å…… */
}
```

---

## ğŸ“ é¡¹ç›®ç»“æ„è§„èŒƒ

### 1. ç›®å½•ç»“æ„
```
project/
â”œâ”€â”€ src/                    # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ components/         # ç»„ä»¶ç›®å½•
â”‚   â”œâ”€â”€ utils/             # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ services/          # æœåŠ¡å±‚
â”‚   â””â”€â”€ index.js           # å…¥å£æ–‡ä»¶
â”œâ”€â”€ css/                   # æ ·å¼æ–‡ä»¶
â”œâ”€â”€ i18n/                  # å›½é™…åŒ–æ–‡ä»¶
â”œâ”€â”€ backend/               # åç«¯ä»£ç 
â”œâ”€â”€ package.json           # ä¾èµ–é…ç½®
â”œâ”€â”€ .eslintrc.cjs         # ESLinté…ç½®
â”œâ”€â”€ .prettierrc           # Prettieré…ç½®
â””â”€â”€ README.md             # é¡¹ç›®è¯´æ˜
```

### 2. æ–‡ä»¶å‘½åè§„èŒƒ
- ä½¿ç”¨å°å†™å­—æ¯å’Œè¿å­—ç¬¦ï¼š`user-service.js`
- ç»„ä»¶ä½¿ç”¨ PascalCaseï¼š`UserProfile.js`
- å¸¸é‡ä½¿ç”¨ UPPER_CASEï¼š`API_ENDPOINTS.js`

### 3. å¯¼å…¥å¯¼å‡ºè§„èŒƒ
```javascript
// âœ… æ¨èï¼šå‘½åå¯¼å‡º
export const UserService = {
  // ...
};

// âœ… æ¨èï¼šé»˜è®¤å¯¼å‡º
export default class UserModel {
  // ...
}
```

---

## ğŸ”§ å·¥å…·é…ç½®

### 1. ESLint é…ç½®
```json
{
  "extends": ["airbnb-base"],
  "rules": {
    "indent": ["error", 2],
    "max-len": ["error", { "code": 100 }],
    "no-trailing-spaces": "error"
  }
}
```

### 2. Prettier é…ç½®
```json
{
  "semi": true,
  "trailingComma": "es5",
  "singleQuote": true,
  "printWidth": 100,
  "tabWidth": 2
}
```

---

## âœ… æ£€æŸ¥æ¸…å•

### å¼€å‘å‰æ£€æŸ¥
- [ ] é¡¹ç›®ç»“æ„ç¬¦åˆè§„èŒƒ
- [ ] é…ç½®æ–‡ä»¶å·²æ­£ç¡®è®¾ç½®
- [ ] ä¾èµ–ç‰ˆæœ¬å·²é”å®š

### ä»£ç æäº¤å‰æ£€æŸ¥
- [ ] ESLint æ£€æŸ¥é€šè¿‡
- [ ] Prettier æ ¼å¼åŒ–å®Œæˆ
- [ ] æµ‹è¯•ç”¨ä¾‹é€šè¿‡
- [ ] æ³¨é‡Šå®Œæ•´ä¸”å‡†ç¡®

### éƒ¨ç½²å‰æ£€æŸ¥
- [ ] Docker æ„å»ºæˆåŠŸ
- [ ] ç¯å¢ƒå˜é‡é…ç½®æ­£ç¡®
- [ ] ç”Ÿäº§ä¾èµ–å·²ä¼˜åŒ–

---

## ğŸ“š å‚è€ƒèµ„æº

- [Node.js Best Practices](https://github.com/goldbergyoni/nodebestpractices)
- [Airbnb JavaScript Style Guide](https://github.com/airbnb/javascript)
- [HTML/CSS Learning Guide](https://hcdev.ru/learn)
- [MDN Web Docs](https://developer.mozilla.org/)

---

*æœ€åæ›´æ–°ï¼š2024å¹´12æœˆ*