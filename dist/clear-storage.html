<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>清理存储</title>
</head>
<body>
    <h1>清理localStorage</h1>
    <button onclick="clearStorage()">清理所有存储</button>
    <button onclick="checkStorage()">检查存储内容</button>
    <div id="result"></div>
    
    <script>
        function clearStorage() {
            localStorage.clear();
            alert('localStorage已清理');
            checkStorage();
        }
        
        function checkStorage() {
            const keys = Object.keys(localStorage);
            let html = '<h3>localStorage内容:</h3>';
            if (keys.length === 0) {
                html += '<p>localStorage为空</p>';
            } else {
                keys.forEach(key => {
                    const value = localStorage.getItem(key);
                    html += `<p><strong>${key}:</strong> ${value.substring(0, 50)}${value.length > 50 ? '...' : ''}</p>`;
                });
            }
            document.getElementById('result').innerHTML = html;
        }
        
        // 页面加载时检查存储
        window.onload = checkStorage;
    </script>
</body>
</html>