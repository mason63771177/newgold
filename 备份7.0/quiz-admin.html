<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>é¢˜åº“ç®¡ç†ç³»ç»Ÿ - è£‚é‡‘7æ—¥</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      color: #333;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }

    .header {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      border-radius: 16px;
      padding: 20px;
      margin-bottom: 20px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
      text-align: center;
    }

    .header h1 {
      color: #2c3e50;
      margin-bottom: 10px;
      font-size: 2rem;
    }

    .header p {
      color: #7f8c8d;
      font-size: 1.1rem;
    }

    .toolbar {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      border-radius: 16px;
      padding: 20px;
      margin-bottom: 20px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
      display: flex;
      gap: 15px;
      flex-wrap: wrap;
      align-items: center;
    }

    .btn {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 12px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 600;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
    }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
    }

    .btn-success {
      background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
      box-shadow: 0 4px 15px rgba(76, 175, 80, 0.4);
    }

    .btn-success:hover {
      box-shadow: 0 6px 20px rgba(76, 175, 80, 0.6);
    }

    .btn-danger {
      background: linear-gradient(135deg, #f44336 0%, #d32f2f 100%);
      box-shadow: 0 4px 15px rgba(244, 67, 54, 0.4);
    }

    .btn-danger:hover {
      box-shadow: 0 6px 20px rgba(244, 67, 54, 0.6);
    }

    .btn-warning {
      background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);
      box-shadow: 0 4px 15px rgba(255, 152, 0, 0.4);
    }

    .btn-warning:hover {
      box-shadow: 0 6px 20px rgba(255, 152, 0, 0.6);
    }

    .stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
      margin-bottom: 20px;
    }

    .stat-card {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      border-radius: 16px;
      padding: 20px;
      text-align: center;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
    }

    .stat-number {
      font-size: 2rem;
      font-weight: bold;
      color: #667eea;
      margin-bottom: 5px;
    }

    .stat-label {
      color: #7f8c8d;
      font-size: 0.9rem;
    }

    .questions-container {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      border-radius: 16px;
      padding: 20px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
    }

    .question-item {
      border: 1px solid #e0e0e0;
      border-radius: 12px;
      margin-bottom: 15px;
      padding: 20px;
      background: #fafafa;
      transition: all 0.3s ease;
    }

    .question-item:hover {
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      transform: translateY(-2px);
    }

    .question-header {
      display: flex;
      justify-content: between;
      align-items: flex-start;
      margin-bottom: 15px;
    }

    .question-number {
      background: #667eea;
      color: white;
      padding: 8px 12px;
      border-radius: 8px;
      font-weight: bold;
      margin-right: 15px;
      min-width: 50px;
      text-align: center;
    }

    .question-content {
      flex: 1;
    }

    .question-text {
      font-size: 1.1rem;
      font-weight: 600;
      color: #2c3e50;
      margin-bottom: 10px;
      line-height: 1.4;
    }

    .question-options {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 10px;
      margin-bottom: 10px;
    }

    .option {
      background: #f8f9fa;
      border: 1px solid #dee2e6;
      border-radius: 8px;
      padding: 8px 12px;
      font-size: 0.9rem;
    }

    .option.correct {
      background: #d4edda;
      border-color: #c3e6cb;
      color: #155724;
      font-weight: 600;
    }

    .question-actions {
      display: flex;
      gap: 10px;
      margin-top: 15px;
    }

    .btn-small {
      padding: 6px 12px;
      font-size: 12px;
    }

    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(5px);
    }

    .modal-content {
      background: white;
      margin: 5% auto;
      padding: 30px;
      border-radius: 16px;
      width: 90%;
      max-width: 600px;
      max-height: 80vh;
      overflow-y: auto;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      padding-bottom: 15px;
      border-bottom: 1px solid #e0e0e0;
    }

    .modal-title {
      font-size: 1.5rem;
      font-weight: bold;
      color: #2c3e50;
    }

    .close {
      color: #aaa;
      font-size: 28px;
      font-weight: bold;
      cursor: pointer;
      line-height: 1;
    }

    .close:hover {
      color: #000;
    }

    .form-group {
      margin-bottom: 20px;
    }

    .form-label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: #2c3e50;
    }

    .form-input {
      width: 100%;
      padding: 12px;
      border: 1px solid #ddd;
      border-radius: 8px;
      font-size: 14px;
      transition: border-color 0.3s ease;
    }

    .form-input:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }

    .form-textarea {
      min-height: 100px;
      resize: vertical;
    }

    .options-container {
      display: grid;
      gap: 10px;
    }

    .option-input-group {
      display: flex;
      gap: 10px;
      align-items: center;
    }

    .option-input {
      flex: 1;
    }

    .correct-radio {
      margin-left: 10px;
    }

    .search-container {
      margin-bottom: 20px;
    }

    .search-input {
      width: 100%;
      padding: 12px 20px;
      border: 1px solid #ddd;
      border-radius: 25px;
      font-size: 16px;
      background: white;
    }

    .search-input:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }

    .empty-state {
      text-align: center;
      padding: 60px 20px;
      color: #7f8c8d;
    }

    .empty-state h3 {
      margin-bottom: 10px;
      font-size: 1.5rem;
    }

    @media (max-width: 768px) {
      .container {
        padding: 10px;
      }
      
      .toolbar {
        flex-direction: column;
        align-items: stretch;
      }
      
      .btn {
        width: 100%;
        margin-bottom: 10px;
      }
      
      .question-options {
        grid-template-columns: 1fr;
      }
      
      .modal-content {
        margin: 10% auto;
        width: 95%;
        padding: 20px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- å¤´éƒ¨ -->
    <div class="header">
      <h1>ğŸ“š é¢˜åº“ç®¡ç†ç³»ç»Ÿ</h1>
      <p>è£‚é‡‘7æ—¥ Â· ç­”é¢˜ä»»åŠ¡é¢˜åº“ç®¡ç†</p>
    </div>

    <!-- ç»Ÿè®¡ä¿¡æ¯ -->
    <div class="stats">
      <div class="stat-card">
        <div class="stat-number" id="totalQuestions">0</div>
        <div class="stat-label">é¢˜ç›®æ€»æ•°</div>
      </div>
      <div class="stat-card">
        <div class="stat-number" id="lastModified">--</div>
        <div class="stat-label">æœ€åä¿®æ”¹</div>
      </div>
    </div>

    <!-- å·¥å…·æ  -->
    <div class="toolbar">
      <button class="btn btn-success" onclick="showAddModal()">
        â• æ·»åŠ é¢˜ç›®
      </button>
      <button class="btn" onclick="exportQuestions()">
        ğŸ“¤ å¯¼å‡ºé¢˜åº“
      </button>
      <button class="btn" onclick="importQuestions()">
        ğŸ“¥ å¯¼å…¥é¢˜åº“
      </button>
      <button class="btn btn-warning" onclick="previewQuiz()">
        ğŸ‘ï¸ é¢„è§ˆç­”é¢˜
      </button>
      <input type="file" id="importFile" accept=".json" style="display: none;" onchange="handleImport(event)">
    </div>

    <!-- æœç´¢ -->
    <div class="search-container">
      <input type="text" class="search-input" id="searchInput" placeholder="ğŸ” æœç´¢é¢˜ç›®å†…å®¹..." oninput="filterQuestions()">
    </div>

    <!-- é¢˜ç›®åˆ—è¡¨ -->
    <div class="questions-container">
      <div id="questionsList">
        <!-- é¢˜ç›®åˆ—è¡¨å°†åœ¨è¿™é‡ŒåŠ¨æ€ç”Ÿæˆ -->
      </div>
    </div>
  </div>

  <!-- æ·»åŠ /ç¼–è¾‘é¢˜ç›®æ¨¡æ€æ¡† -->
  <div id="questionModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" id="modalTitle">æ·»åŠ é¢˜ç›®</h2>
        <span class="close" onclick="closeModal()">&times;</span>
      </div>
      <form id="questionForm">
        <div class="form-group">
          <label class="form-label">é¢˜ç›®å†…å®¹ *</label>
          <textarea class="form-input form-textarea" id="questionText" placeholder="è¯·è¾“å…¥é¢˜ç›®å†…å®¹..." required></textarea>
        </div>
        
        <div class="form-group">
          <label class="form-label">é€‰é¡¹è®¾ç½® *</label>
          <div class="options-container">
            <div class="option-input-group">
              <input type="text" class="form-input option-input" id="option1" placeholder="é€‰é¡¹ A" required>
              <input type="radio" name="correctAnswer" value="0" class="correct-radio" required>
              <label>æ­£ç¡®ç­”æ¡ˆ</label>
            </div>
            <div class="option-input-group">
              <input type="text" class="form-input option-input" id="option2" placeholder="é€‰é¡¹ B" required>
              <input type="radio" name="correctAnswer" value="1" class="correct-radio">
              <label>æ­£ç¡®ç­”æ¡ˆ</label>
            </div>
            <div class="option-input-group">
              <input type="text" class="form-input option-input" id="option3" placeholder="é€‰é¡¹ C" required>
              <input type="radio" name="correctAnswer" value="2" class="correct-radio">
              <label>æ­£ç¡®ç­”æ¡ˆ</label>
            </div>
            <div class="option-input-group">
              <input type="text" class="form-input option-input" id="option4" placeholder="é€‰é¡¹ D" required>
              <input type="radio" name="correctAnswer" value="3" class="correct-radio">
              <label>æ­£ç¡®ç­”æ¡ˆ</label>
            </div>
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">é”™è¯¯æç¤ºä¿¡æ¯</label>
          <textarea class="form-input form-textarea" id="wrongMessage" placeholder="ç­”é”™æ—¶æ˜¾ç¤ºçš„æç¤ºä¿¡æ¯ï¼ˆå¯é€‰ï¼‰"></textarea>
        </div>

        <div style="display: flex; gap: 15px; justify-content: flex-end; margin-top: 30px;">
          <button type="button" class="btn" onclick="closeModal()">å–æ¶ˆ</button>
          <button type="submit" class="btn btn-success">ä¿å­˜é¢˜ç›®</button>
        </div>
      </form>
    </div>
  </div>

  <script>
    // é¢˜åº“æ•°æ® - ä»quiz.htmlä¸­æå–
    let questions = [
      { 
        q: 'ä½ çš„ä¸“å±é‚€è¯·é“¾æ¥æœ‰æ•ˆæœŸæ˜¯å¤šä¹…ï¼Ÿ', 
        options: ['24å°æ—¶', '72å°æ—¶', '168å°æ—¶ï¼ˆ7å¤©ï¼‰', 'æ°¸ä¹…'], 
        a: '168å°æ—¶ï¼ˆ7å¤©ï¼‰',
        wrongMsg: 'é“¾æ¥168å°æ—¶åå¤±æ•ˆï¼Œæ— æ³•ç»§ç»­é‚€è¯·ï¼›æ—¶é—´å†…è¶Šæ—©å¼•çˆ†ï¼Œç»“æ„æˆé•¿è¶Šå¿«ã€‚'
      },
      { 
        q: '"çº¢åŒ…"å’Œ"7å±‚è¿”åˆ©"ï¼Œå“ªä¸€å¥æœ€è´´åˆ‡ï¼Ÿ', 
        options: ['æŠ¢çº¢åŒ…æ‰æœ‰è¿”åˆ©', 'çº¢åŒ…=ä»Šå¤©çš„å¿«æ„Ÿï¼Œè¿”åˆ©=ç»“æ„é‡Œæ˜å¤©çš„é•¿æµæ°´', 'çº¢åŒ…é‡‘é¢å†³å®šè¿”åˆ©é‡‘é¢', 'çº¢åŒ…æ¬¡æ•°è¶Šå¤šï¼Œå±‚çº§è¶Šæ·±'], 
        a: 'çº¢åŒ…=ä»Šå¤©çš„å¿«æ„Ÿï¼Œè¿”åˆ©=ç»“æ„é‡Œæ˜å¤©çš„é•¿æµæ°´',
        wrongMsg: 'çº¢åŒ…=çŸ­ä¿ƒå°é›¨ç‚¹ï¼Œæ¥å¾—å¿«å»å¾—å¿«ï¼›è¿”åˆ©=ç»“æ„æ°´åº“ï¼Œè‡ªå·±å¾€ä¸‹æµã€‚\nä½ è¦çš„ä¸æ˜¯ä¸€æŠŠä¼ï¼Œè€Œæ˜¯ä¸€åº§æ°´åã€‚'
      },
      { 
        q: 'ä½ çš„7å±‚ç½‘ç»œé‡Œä»»æ„ä¸€å±‚æ–°å¢1ä½"æ¿€æ´»"çš„æˆå‘˜ï¼Œä½ æ‹¿åˆ°ï¼Ÿ', 
        options: ['éšæœºé‡‘é¢', '$10 / æ¯å±‚ / æ¯äºº', 'åªæœ‰ç›´æ¨(ç¬¬1å±‚)æ‰æœ‰$10', 'åªæœ‰å‰ä¸‰å±‚æœ‰$10'], 
        a: '$10 / æ¯å±‚ / æ¯äºº',
        wrongMsg: 'ç»“æ„è¿”åˆ©æ˜¯æ¯å±‚æ¯äºº$10ï¼Œæœ€å¤šè¿½è¸ªåˆ°7å±‚ï¼›è¶Šä¼š"æ•™ä¸‹å»"ï¼Œå±‚æ•°è¶Šå¿«è¢«ç‚¹äº®ã€‚'
      },
      { 
        q: 'å°ç®—æœ¯ï¼šä½ ç›´æ¨2äººï¼ˆç¬¬1å±‚=2ï¼‰ï¼Œä»–ä»¬å„è‡ªå†æ¨2äººï¼ˆç¬¬2å±‚=4ï¼‰ï¼Œå…¨éƒ¨æ¿€æ´»ã€‚ä½ æ‹¿çš„ç»“æ„è¿”åˆ©åˆè®¡ï¼Ÿ', 
        options: ['$20', '$40', '$60', '$80'], 
        a: '$60',
        wrongMsg: 'ç¬¬1å±‚2Ã—$10=$20ï¼Œç¬¬2å±‚4Ã—$10=$40ï¼Œåˆè®¡**$60**ã€‚å±‚çº§ä¸€æ—¦åŠ¨èµ·æ¥ï¼Œæ”¶ç›Šå åŠ éå¸¸å¿«ã€‚'
      },
      { 
        q: 'å“ªä¸ªæ¯”å–»æœ€è´´è¿‘"ç»“æ„ä¼˜äºå•æ‰“ç‹¬æ–—"çš„æœ¬è´¨ï¼Ÿ', 
        options: ['çº¢åŒ…åƒå°é›¨ç‚¹ï¼Œç»“æ„åƒæ°´åº“', 'çº¢åŒ…åƒå¤§å¥–ï¼Œç»“æ„åƒè¿æ°”', 'ç»“æ„å…¨é å¶ç„¶', 'çº¢åŒ…è¶Šå¤šï¼Œå±‚çº§è¶Šæ·±'], 
        a: 'çº¢åŒ…åƒå°é›¨ç‚¹ï¼Œç»“æ„åƒæ°´åº“',
        wrongMsg: 'çº¢åŒ…æ˜¯å³åˆ»çš„"å°é›¨ç‚¹"ï¼›ç»“æ„æ˜¯èƒ½è“„æ°´å¹¶æŒç»­æ¥æ°´çš„"æ°´åº“"â€”â€”å…³é”®æ˜¯è®©æ°´æ²¿å±‚çº§è‡ªå·±æµã€‚'
      },
      { 
        q: 'æƒ³è®©ç»“æ„çœŸæ­£"åŠ¨"èµ·æ¥ï¼Œä¸‹é¢å“ªæ­¥æœ€å…³é”®ï¼Ÿ', 
        options: ['è‡ªå·±å†ç›´æ¨3äºº', 'å†æŠ¢ä¸€è½®çº¢åŒ…', 'æ”¹å¤´åƒã€å‘æµ·æŠ¥', 'æ•™ä¼šä½ çš„ç¬¬1å±‚å»æ•™TAçš„ä¸‹ä¸€çº§'], 
        a: 'æ•™ä¼šä½ çš„ç¬¬1å±‚å»æ•™TAçš„ä¸‹ä¸€çº§',
        wrongMsg: 'ä»"ä¼šæ‹‰äºº"å‡çº§ä¸º"ä¼šå¸¦äººå»å¸¦äºº"ï¼Œå±‚æ•°æ‰ä¼šçº§è”ç‚¹äº®ã€‚'
      },
      { 
        q: '168å°æ—¶çª—å£å…³æ‰åï¼Œä½ è¿˜èƒ½ç•™ä¸‹ä»€ä¹ˆï¼Ÿ', 
        options: ['é‚€è¯·ä¸çº¢åŒ…ç»§ç»­', 'ä¸€åˆ‡æ¸…é›¶', 'åªèƒ½ç›´æ¨æœ‰è¿”åˆ©', 'ä½ æ­å¥½çš„"æ°´åº“"ä¼šè‡ªå·±æµï¼Œä½†ä½ å†ä¹ŸåŠ ä¸è¿›ä¸€æ»´æ°´'], 
        a: 'ä½ æ­å¥½çš„"æ°´åº“"ä¼šè‡ªå·±æµï¼Œä½†ä½ å†ä¹ŸåŠ ä¸è¿›ä¸€æ»´æ°´',
        wrongMsg: 'å…¥å£é”æ­»ï¼Œçº¢åŒ…ä¸é‚€è¯·å…¨ç­ã€‚\nä½†ä½ è¿™7å¤©æ­çš„æ°´åº“ï¼Œä¼šæ›¿ä½ æŠŠæ°´æµåˆ°æ‰‹é‡Œã€‚\nåŒºåˆ«åªæ˜¯â€”â€”åˆ«äºº7å¤©æ‹¼å‡ºæ°´åï¼Œä½ è¿˜åœ¨ç©ºæ¯ç­‰é›¨ã€‚'
      },
      { 
        q: 'æƒ³æŠŠç»“æ„çš„"çˆ†ç‚¸å‹å¢é•¿æ›²çº¿"çœŸæ­£ç‚¹ç‡ƒï¼Œæœ€æ ¸å¿ƒçš„ä¸€ä»¶äº‹æ˜¯ï¼Ÿ', 
        options: ['è‡ªå·±å¤šæ‹‰ä¸€ç‚¹', 'å¤šå‘å¹¿å‘Š', 'ç›¯ç€çº¢åŒ…', 'æŠŠæ•™ç¨‹ä¸‹æ”¾ï¼Œè®©æ¯ä¸ªèŠ‚ç‚¹éƒ½ä¼š"å†æ•™äºº"'], 
        a: 'æŠŠæ•™ç¨‹ä¸‹æ”¾ï¼Œè®©æ¯ä¸ªèŠ‚ç‚¹éƒ½ä¼š"å†æ•™äºº"',
        wrongMsg: 'ç­‰æ¯”çˆ†å‘æ¥è‡ªå¤åˆ¶èƒ½åŠ›çš„å¤åˆ¶ï¼Œä¸æ˜¯ä¸ªäººä½“åŠ›æ´»ã€‚'
      },
      { 
        q: 'ä½ å·²ç›´æ¨2ä½ï¼Œä¸‹ä¸€æ­¥æœ€å¢æ•ˆçš„æ˜¯ï¼Ÿ', 
        options: ['å„èŠ±30åˆ†é’Ÿï¼Œåˆ†åˆ«é™ªä»–ä»¬å®Œæˆ1æ¬¡é¦–é‚€', 'è‡ªå·±å†æ‹‰1äºº', 'åœå‡ å¤©', 'åšæ›´é…·çš„å®£ä¼ å›¾'], 
        a: 'å„èŠ±30åˆ†é’Ÿï¼Œåˆ†åˆ«é™ªä»–ä»¬å®Œæˆ1æ¬¡é¦–é‚€',
        wrongMsg: 'æ‰¶ä¸Šé©¬å¹¶é€ä¸€ç¨‹ï¼Œä»–ä»¬å°±èƒ½è‡ªå·±è·‘ã€è¿˜ä¼šå¸¦äººã€‚'
      },
      { 
        q: 'å¤åˆ¶æ€è·¯é‡Œï¼Œå“ªå¥æœ€å…³é”®ï¼Ÿ', 
        options: ['å…ˆåšæ»¡å¥½å¤šå¤©', 'æ¯ä¸ªæ–°äººéƒ½"å¸¦å‡ºä»–çš„ç¬¬ä¸€å•"', 'ç­‰ç³»ç»Ÿæ¨äºº', 'å†…å®¹è¶ŠèŠ±è¶Šå¥½'], 
        a: 'æ¯ä¸ªæ–°äººéƒ½"å¸¦å‡ºä»–çš„ç¬¬ä¸€å•"',
        wrongMsg: 'ç¬¬ä¸€å•è¢«å¸¦å‡ºï¼Œä»–çš„å¿ƒæ°”å°±ç«‹ä½äº†ï¼Œå¤åˆ¶é“¾æ¡æ‰çœŸæ­£å¯åŠ¨ã€‚'
      },
      { 
        q: 'ç†æƒ³ç­‰æ¯”ï¼šè‹¥æ¯äººå¸¦2ä¸ªï¼Œåªåˆ°ç¬¬3å±‚ï¼Œæ€»äººæ•°ï¼ˆä¸å«ä½ ï¼‰æ˜¯ï¼Ÿ', 
        options: ['8', '10', '16', '14'], 
        a: '14',
        wrongMsg: '2+4+8=14ï¼›åˆ°ç¬¬3å±‚å°±èƒ½æ˜æ˜¾æ„Ÿè§‰è¶Šåšè¶Šè½»ã€‚'
      },
      { 
        q: 'å“ªç§é€‰æ‹©æ›´å¼ºï¼Ÿ', 
        options: ['æ•™2ä¸ªä¼šæ•™äººçš„äºº', 'ä¸€æ¬¡æ‹‰10ä¸ªä½†æ²¡äººä¼šæ•™', 'éšç¼˜ç­‰ç³»ç»Ÿ', 'åªæŠ¢å³æ—¶å¥–åŠ±'], 
        a: 'æ•™2ä¸ªä¼šæ•™äººçš„äºº',
        wrongMsg: 'ä¼šæ•™äººçš„ç§å­ä¼šé•¿å‡ºå¾ˆå¤šæä¸«ï¼›10ä¸ªä¸ä¼šæ•™=å¾ˆå¿«é™é»˜ã€‚'
      },
      { 
        q: 'å¦‚æœä»Šå¤©åªèƒ½åšä¸€ä»¶äº‹ï¼Œé€‰å“ªä¸ªï¼Ÿ', 
        options: ['æŠŠä¸€ä¸ªæ–°äºº"å¸¦å‡ºç¬¬ä¸€å•"', 'å†™ä¸€ç¯‡é•¿æ•™ç¨‹', 'ä¿®ä¸€å¼ æµ·æŠ¥', 'åˆ·ä¸€å°æ—¶ç¾¤'], 
        a: 'æŠŠä¸€ä¸ªæ–°äºº"å¸¦å‡ºç¬¬ä¸€å•"',
        wrongMsg: 'ç¬¬ä¸€å•=ç‚¹ç«æŒ‰é’®ï¼›å…¶ä½™éƒ½æ˜¯é“ºå«ã€‚'
      },
      { 
        q: 'çœŸæ­£å¼•çˆ†æ›²çº¿çš„æœ¬è´¨ä¸€åˆ€æ˜¯ï¼Ÿ', 
        options: ['æˆ‘è‡ªå·±æ›´åŠªåŠ›', 'åšæ›´å¤šç´ æ', 'è®©æ¯ä¸ªæ–°äººèƒ½å¸¦å‡ºä»–çš„ç¬¬ä¸€å•ï¼Œå¹¶æ•™ä»–ä¹Ÿè¿™ä¹ˆåš', 'ç›¯æ’è¡Œæ¦œ'], 
        a: 'è®©æ¯ä¸ªæ–°äººèƒ½å¸¦å‡ºä»–çš„ç¬¬ä¸€å•ï¼Œå¹¶æ•™ä»–ä¹Ÿè¿™ä¹ˆåš',
        wrongMsg: 'çˆ†å‘æ¥è‡ª"ä¼šçš„äººè¶Šæ¥è¶Šå¤š"ï¼Œä¸æ˜¯ä½ ä¸€ä¸ªäººæ›´ç´¯ã€‚'
      },
      { 
        q: 'ä»Šå¤©åªåšä¸€ä»¶äº‹ï¼Œå“ªä»¶æœ€"åˆ’ç®—"ï¼Ÿ', 
        options: ['çº¦1ä½"æœ€ç†Ÿçš„ç†Ÿäºº"è¯­éŸ³60ç§’ï¼Œå½“åœºå‘å‡ºé¦–æ¡é‚€è¯·', 'å†™å®£ä¼ æ–‡æ¡ˆ', 'ä¿®å›¾', 'å­¦åŠå¤©æ–¹æ³•è®º'], 
        a: 'çº¦1ä½"æœ€ç†Ÿçš„ç†Ÿäºº"è¯­éŸ³60ç§’ï¼Œå½“åœºå‘å‡ºé¦–æ¡é‚€è¯·',
        wrongMsg: 'å¼ºå…³ç³»Ã—å½“åœºå‡ºæ‰‹ï¼Œæœ€å¿«å‡ºç¬¬ä¸€å•ã€‚'
      },
      { 
        q: 'æ™šä¸Šé»„é‡‘1å°æ—¶ï¼Œä½ è¯¥åšï¼Ÿ', 
        options: ['ä¿®å›¾', 'å†™é•¿æ–‡', 'åˆ·ç¾¤', 'å¼€ä¸‰é€šè¯­éŸ³ï¼šå„å¸¦1ä½å®Œæˆé¦–é‚€/å‘å‡ºç¬¬ä¸€æ¡é‚€è¯·'], 
        a: 'å¼€ä¸‰é€šè¯­éŸ³ï¼šå„å¸¦1ä½å®Œæˆé¦–é‚€/å‘å‡ºç¬¬ä¸€æ¡é‚€è¯·',
        wrongMsg: 'è¯­éŸ³Ã—ä¸‰æ¬¡å°èƒœåˆ©ï¼Œæ•ˆç‡æ¯”ç´ æé«˜å¤ªå¤šã€‚'
      },
      { 
        q: 'æ˜å¤©æœ€è¯¥ç›¯å“ªé¡¹ç»“æ„æŒ‡æ ‡ï¼Ÿ', 
        options: ['çº¢åŒ…æ¬¡æ•°', 'æ’å', 'ç§èŠäººæ•°', 'äºŒå±‚æ–°å¢"é¦–é‚€è¾¾æˆæ•°"'], 
        a: 'äºŒå±‚æ–°å¢"é¦–é‚€è¾¾æˆæ•°"',
        wrongMsg: 'äºŒå±‚é¦–é‚€ä¸Šæ¥ï¼Œç»“æ„æ‰å¼€å§‹"è‡ªå·±è·‘"ã€‚'
      },
      { 
        q: 'å¦‚æœå¯¹æ–¹çŠ¹è±«ï¼Œä½ æœ€èƒ½ç‚¹ç‡ƒä»–çš„ä¸€å¥è¯æ˜¯ï¼Ÿ', 
        options: ['"ä½ å…ˆä»˜é’±å†è¯´"', '"ä½ æ…¢æ…¢ç ”ç©¶"', '"æˆ‘ä»¬å…ˆä»æœ€ç¨³çš„ä¸€ä¸ªæœ‹å‹è¯•èµ·ï¼Œæˆ‘å…¨ç¨‹é™ªç€ä½ "', '"æ— æ‰€è°“ï¼Œçœ‹ä½ å§"'], 
        a: '"æˆ‘ä»¬å…ˆä»æœ€ç¨³çš„ä¸€ä¸ªæœ‹å‹è¯•èµ·ï¼Œæˆ‘å…¨ç¨‹é™ªç€ä½ "',
        wrongMsg: 'é™ªè·‘=ä¿¡å¿ƒçŒè¾“ã€‚\nç¬¬ä¸€æ­¥ä¸æ˜¯ä»–ä¸€ä¸ªäººè·³ï¼Œè€Œæ˜¯ä½ æ‹‰ç€ä»–è¿‡æ²³ã€‚\nè¯•ç‚¹+é™ªè·‘ï¼Œæœ€å®¹æ˜“è®©äººç‚¹ç«æˆåŠŸã€‚'
      },
      { 
        q: 'é¦–é‚€æˆåŠŸåï¼Œé»„é‡‘5åˆ†é’Ÿå¹²å˜›ï¼Ÿ', 
        options: ['æ”¾ä¸€å¤©', 'åªå‘è¡¨æƒ…', 'ç«‹åˆ»å»æ‹‰é™Œç”Ÿäºº', 'å¤ç›˜3å¥è¯ï¼šæ€ä¹ˆè¯´ã€æ€ä¹ˆæ¼”ç¤ºã€ä¸‹ä¸€ä½æ˜¯è°'], 
        a: 'å¤ç›˜3å¥è¯ï¼šæ€ä¹ˆè¯´ã€æ€ä¹ˆæ¼”ç¤ºã€ä¸‹ä¸€ä½æ˜¯è°',
        wrongMsg: 'å¤ç›˜â†’å›ºåŒ–â†’å†å¤åˆ¶ï¼Œçƒ­åº¦æœ€å€¼é’±ã€‚'
      },
      { 
        q: 'è§„æ¨¡åŒ–çœŸæ­£çš„"ç¬¬ä¸€è„šæ²¹é—¨"ï¼Ÿ', 
        options: ['æˆ‘æ›´åŠªåŠ›', 'å¤šåšç´ æ', 'è®©æ¯ä¸ªæ–°äººéƒ½èƒ½å¸¦å‡ºä»–çš„ç¬¬ä¸€å•ï¼Œå¹¶æ•™ä¼šä»–å¤åˆ¶è¿™ä¸‰æ­¥', 'ç›¯æ’è¡Œæ¦œ'], 
        a: 'è®©æ¯ä¸ªæ–°äººéƒ½èƒ½å¸¦å‡ºä»–çš„ç¬¬ä¸€å•ï¼Œå¹¶æ•™ä¼šä»–å¤åˆ¶è¿™ä¸‰æ­¥',
        wrongMsg: 'çˆ†å‘æ¥è‡ªä¼šçš„äººè¶Šæ¥è¶Šå¤šï¼Œä¸æ˜¯ä½ ä¸€ä¸ªäººæ›´ç´¯ã€‚'
      }
    ];

    let filteredQuestions = [...questions];
    let editingIndex = -1;

    // åˆå§‹åŒ–
    document.addEventListener('DOMContentLoaded', function() {
      updateStats();
      renderQuestions();
    });

    // æ›´æ–°ç»Ÿè®¡ä¿¡æ¯
    function updateStats() {
      document.getElementById('totalQuestions').textContent = questions.length;
      document.getElementById('lastModified').textContent = new Date().toLocaleDateString();
    }

    // æ¸²æŸ“é¢˜ç›®åˆ—è¡¨
    function renderQuestions() {
      const container = document.getElementById('questionsList');
      
      if (filteredQuestions.length === 0) {
        container.innerHTML = `
          <div class="empty-state">
            <h3>æš‚æ— é¢˜ç›®</h3>
            <p>ç‚¹å‡»"æ·»åŠ é¢˜ç›®"å¼€å§‹åˆ›å»ºæ‚¨çš„ç¬¬ä¸€é“é¢˜ç›®</p>
          </div>
        `;
        return;
      }

      container.innerHTML = filteredQuestions.map((question, index) => {
        const originalIndex = questions.indexOf(question);
        return `
          <div class="question-item">
            <div class="question-header">
              <div class="question-number">${originalIndex + 1}</div>
              <div class="question-content">
                <div class="question-text">${question.q}</div>
                <div class="question-options">
                  ${question.options.map(option => `
                    <div class="option ${option === question.a ? 'correct' : ''}">${option}</div>
                  `).join('')}
                </div>
                ${question.wrongMsg ? `<div style="margin-top: 10px; padding: 10px; background: #fff3cd; border-radius: 6px; font-size: 0.9rem; color: #856404;"><strong>é”™è¯¯æç¤ºï¼š</strong>${question.wrongMsg}</div>` : ''}
              </div>
            </div>
            <div class="question-actions">
              <button class="btn btn-small" onclick="editQuestion(${originalIndex})">âœï¸ ç¼–è¾‘</button>
              <button class="btn btn-small btn-warning" onclick="previewQuestion(${originalIndex})">ğŸ‘ï¸ é¢„è§ˆ</button>
              <button class="btn btn-small btn-danger" onclick="deleteQuestion(${originalIndex})">ğŸ—‘ï¸ åˆ é™¤</button>
            </div>
          </div>
        `;
      }).join('');
    }

    // æœç´¢è¿‡æ»¤
    function filterQuestions() {
      const searchTerm = document.getElementById('searchInput').value.toLowerCase();
      filteredQuestions = questions.filter(question => 
        question.q.toLowerCase().includes(searchTerm) ||
        question.options.some(option => option.toLowerCase().includes(searchTerm)) ||
        (question.wrongMsg && question.wrongMsg.toLowerCase().includes(searchTerm))
      );
      renderQuestions();
    }

    // æ˜¾ç¤ºæ·»åŠ æ¨¡æ€æ¡†
    function showAddModal() {
      editingIndex = -1;
      document.getElementById('modalTitle').textContent = 'æ·»åŠ é¢˜ç›®';
      document.getElementById('questionForm').reset();
      document.getElementById('questionModal').style.display = 'block';
    }

    // ç¼–è¾‘é¢˜ç›®
    function editQuestion(index) {
      editingIndex = index;
      const question = questions[index];
      
      document.getElementById('modalTitle').textContent = 'ç¼–è¾‘é¢˜ç›®';
      document.getElementById('questionText').value = question.q;
      document.getElementById('option1').value = question.options[0];
      document.getElementById('option2').value = question.options[1];
      document.getElementById('option3').value = question.options[2];
      document.getElementById('option4').value = question.options[3];
      document.getElementById('wrongMessage').value = question.wrongMsg || '';
      
      // è®¾ç½®æ­£ç¡®ç­”æ¡ˆ
      const correctIndex = question.options.indexOf(question.a);
      if (correctIndex !== -1) {
        document.querySelector(`input[name="correctAnswer"][value="${correctIndex}"]`).checked = true;
      }
      
      document.getElementById('questionModal').style.display = 'block';
    }

    // åˆ é™¤é¢˜ç›®
    function deleteQuestion(index) {
      if (confirm('ç¡®å®šè¦åˆ é™¤è¿™é“é¢˜ç›®å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ’¤é”€ã€‚')) {
        questions.splice(index, 1);
        updateStats();
        filterQuestions();
        showNotification('é¢˜ç›®å·²åˆ é™¤', 'success');
      }
    }

    // é¢„è§ˆé¢˜ç›®
    function previewQuestion(index) {
      const question = questions[index];
      alert(`é¢˜ç›®ï¼š${question.q}\n\né€‰é¡¹ï¼š\nA. ${question.options[0]}\nB. ${question.options[1]}\nC. ${question.options[2]}\nD. ${question.options[3]}\n\næ­£ç¡®ç­”æ¡ˆï¼š${question.a}\n\né”™è¯¯æç¤ºï¼š${question.wrongMsg || 'æ— '}`);
    }

    // å…³é—­æ¨¡æ€æ¡†
    function closeModal() {
      document.getElementById('questionModal').style.display = 'none';
    }

    // è¡¨å•æäº¤
    document.getElementById('questionForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      const questionText = document.getElementById('questionText').value.trim();
      const options = [
        document.getElementById('option1').value.trim(),
        document.getElementById('option2').value.trim(),
        document.getElementById('option3').value.trim(),
        document.getElementById('option4').value.trim()
      ];
      const correctAnswerIndex = parseInt(document.querySelector('input[name="correctAnswer"]:checked').value);
      const wrongMessage = document.getElementById('wrongMessage').value.trim();
      
      // éªŒè¯
      if (!questionText) {
        alert('è¯·è¾“å…¥é¢˜ç›®å†…å®¹');
        return;
      }
      
      if (options.some(option => !option)) {
        alert('è¯·å¡«å†™æ‰€æœ‰é€‰é¡¹');
        return;
      }
      
      const newQuestion = {
        q: questionText,
        options: options,
        a: options[correctAnswerIndex],
        wrongMsg: wrongMessage
      };
      
      if (editingIndex === -1) {
        // æ·»åŠ æ–°é¢˜ç›®
        questions.push(newQuestion);
        showNotification('é¢˜ç›®æ·»åŠ æˆåŠŸ', 'success');
      } else {
        // ç¼–è¾‘ç°æœ‰é¢˜ç›®
        questions[editingIndex] = newQuestion;
        showNotification('é¢˜ç›®æ›´æ–°æˆåŠŸ', 'success');
      }
      
      updateStats();
      filterQuestions();
      closeModal();
    });

    // å¯¼å‡ºé¢˜åº“
    function exportQuestions() {
      const dataStr = JSON.stringify(questions, null, 2);
      const dataBlob = new Blob([dataStr], {type: 'application/json'});
      const url = URL.createObjectURL(dataBlob);
      const link = document.createElement('a');
      link.href = url;
      link.download = `quiz-questions-${new Date().toISOString().split('T')[0]}.json`;
      link.click();
      URL.revokeObjectURL(url);
      showNotification('é¢˜åº“å¯¼å‡ºæˆåŠŸ', 'success');
    }

    // å¯¼å…¥é¢˜åº“
    function importQuestions() {
      document.getElementById('importFile').click();
    }

    function handleImport(event) {
      const file = event.target.files[0];
      if (!file) return;
      
      const reader = new FileReader();
      reader.onload = function(e) {
        try {
          const importedQuestions = JSON.parse(e.target.result);
          if (Array.isArray(importedQuestions) && importedQuestions.length > 0) {
            if (confirm(`ç¡®å®šè¦å¯¼å…¥ ${importedQuestions.length} é“é¢˜ç›®å—ï¼Ÿè¿™å°†æ›¿æ¢å½“å‰æ‰€æœ‰é¢˜ç›®ã€‚`)) {
              questions = importedQuestions;
              updateStats();
              filterQuestions();
              showNotification('é¢˜åº“å¯¼å…¥æˆåŠŸ', 'success');
            }
          } else {
            alert('å¯¼å…¥æ–‡ä»¶æ ¼å¼ä¸æ­£ç¡®');
          }
        } catch (error) {
          alert('å¯¼å…¥æ–‡ä»¶è§£æå¤±è´¥ï¼š' + error.message);
        }
      };
      reader.readAsText(file);
    }

    // é¢„è§ˆç­”é¢˜
    function previewQuiz() {
      window.open('quiz.html', '_blank');
    }

    // æ˜¾ç¤ºé€šçŸ¥
    function showNotification(message, type = 'info') {
      // ç®€å•çš„é€šçŸ¥å®ç°
      const notification = document.createElement('div');
      notification.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        padding: 15px 20px;
        background: ${type === 'success' ? '#4CAF50' : type === 'error' ? '#f44336' : '#2196F3'};
        color: white;
        border-radius: 8px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        z-index: 10000;
        font-weight: 600;
      `;
      notification.textContent = message;
      document.body.appendChild(notification);
      
      setTimeout(() => {
        notification.remove();
      }, 3000);
    }

    // ç‚¹å‡»æ¨¡æ€æ¡†å¤–éƒ¨å…³é—­
    window.onclick = function(event) {
      const modal = document.getElementById('questionModal');
      if (event.target === modal) {
        closeModal();
      }
    }
  </script>
</body>
</html>